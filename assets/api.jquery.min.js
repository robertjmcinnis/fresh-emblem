function floatToString(t,e){var o=t.toFixed(e).toString();return o.match(/^\.\d+/)?"0"+o:o}function attributeToString(t){return"string"!=typeof t&&("undefined"===(t+="")&&(t="")),jQuery.trim(t)}void 0===window.Shopify&&(window.Shopify={}),Shopify.KT_money_format="${{amount}}",Shopify.KT_onError=function(e,t){var n=eval("("+e.responseText+")");n.message?alert(n.message+"("+n.status+"): "+n.description):alert("Error : "+Shopify.KT_fullMessagesFromErrors(n).join("; ")+".")},Shopify.KT_fullMessagesFromErrors=function(t){var e=[];return jQuery.each(t,function(t,o){jQuery.each(o,function(o,r){e.push(t+" "+r)})}),e},Shopify.KT_onCartUpdate=function(t,e){Shopify.KT_onCartUpdate_(t,e)},Shopify.KT_onCartShippingRatesUpdate=function(t,e){e.zip&&e.zip,e.province&&e.province,e.country,t.length>0?($(".shippingText").html("<span>"+t[0].name+"</span><span class='price'>"+Shopify.KT_formatMoney(t[0].price,theme.moneyFormat)+"</span>"),Shopify.KT_ShippingCalculator(t)):($(".shippingText").html("<span>"+theme.strings.no_shopping+"</span>"),Shopify.KT_ShippingCalculator(0))},Shopify.KT_onItemAdded=function(t){Shopify.KT_getCart()},Shopify.KT_onProduct=function(t){alert("Received everything we ever wanted to know about "+t.title)},Shopify.KT_formatMoney=function(t,e){function o(t,e){return void 0===t?e:t}function r(t,e,r,n){if(e=o(e,2),r=o(r,","),n=o(n,"."),isNaN(t)||null==t)return 0;var a=(t=(t/100).toFixed(e)).split(".");return a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r)+(a[1]?n+a[1]:"")}"string"==typeof t&&(t=t.replace(".",""));var n="",a=/\{\{\s*(\w+)\s*\}\}/,i=e||this.money_format;switch(i.match(a)[1]){case"amount":n=r(t,2);break;case"amount_no_decimals":n=r(t,0);break;case"amount_with_comma_separator":n=r(t,2,".",",");break;case"amount_with_space_separator":n=r(t,2," ",",");break;case"amount_with_period_and_space_separator":n=r(t,2," ",".");break;case"amount_no_decimals_with_comma_separator":n=r(t,0,".",",");break;case"amount_no_decimals_with_space_separator":n=r(t,0,".","");break;case"amount_with_space_separator":n=r(t,2,",","");break;case"amount_with_apostrophe_separator":n=r(t,2,"'",".")}return i.replace(a,n)},Shopify.KT_resizeImage=function(t,e){try{if("original"==e)return t;var o=t.match(/(.*\/[\w\-\_\.]+)\.(\w{2,4})/);return o[1]+"_"+e+"."+o[2]}catch(e){return t}},Shopify.KT_addItem=function(t,e,o){var r=t,n={type:"POST",url:"/cart/add.js",data:"quantity="+(e=e||1)+"&id="+t,dataType:"json",success:function(t){"function"==typeof o?o(r,t,"undo"):Shopify.KT_onItemAdded(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(n)},Shopify.KT_addItemFromForm=function(t,e){var o=t,r={type:"POST",url:"/cart/add.js",data:jQuery("#"+t).serialize(),dataType:"json",success:function(t){jQuery("#"+o+" .itemGroupProducts").length>0?jQuery.each(jQuery("#"+o+" .itemGroupProducts"),function(t,r){var n=$(this).find('input[type="number"]').attr("data-id"),a=$(this).find('input[type="number"]').val();jQuery.ajax({type:"POST",url:"/cart/add.js",data:"quantity="+a+"&id="+n,dataType:"json",success:function(r){t==jQuery("#"+o+" .itemGroupProducts").length-1&&("function"==typeof e?e(r):Shopify.KT_onItemAdded(r))},error:function(t,e){Shopify.KT_onError(t,e)}})}):"function"==typeof e?e(t):Shopify.KT_onItemAdded(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(r)},Shopify.KT_getCart=function(t){jQuery.getJSON("/cart.js",function(e,o){"function"==typeof t?t(e):Shopify.KT_onCartUpdate(e)})},Shopify.KT_pollForCartShippingRatesForDestination=function(t,e,o){o=o||Shopify.KT_onError;var r=function(){jQuery.ajax({url:"/cart/async_shipping_rates",type:"GET",complete:function(t,e){},success:function(o,n,a){200===a.status?"function"==typeof e?e(o.shipping_rates,t):Shopify.KT_onCartShippingRatesUpdate(o.shipping_rates,t):setTimeout(r,500)},error:function(t,e,o){}})};return r()},Shopify.KT_getCartShippingRatesForDestination=function(t,e,o){o=o||Shopify.KT_onError,jQuery.ajax({url:"/cart/prepare_shipping_rates",type:"POST",data:Shopify.KT_param({shipping_address:t})}).done(function(){Shopify.KT_pollForCartShippingRatesForDestination(t,e,o)}).fail(function(){$(".shippingText").html("<span>"+theme.strings.no_shopping+"</span>"),Shopify.KT_ShippingCalculator(0)})},Shopify.KT_getProduct=function(t,e){jQuery.getJSON("/products/"+t+".js",function(t,o){"function"==typeof e?e(t):Shopify.KT_onProduct(t)})},Shopify.KT_changeItem=function(t,e,o){var r=t,n={type:"POST",url:"/cart/change.js",data:"quantity="+e+"&id="+t,dataType:"json",success:function(t){"function"==typeof o?o(r,t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(n)},Shopify.KT_removeItem=function(t,e){var o=t,r={type:"POST",url:"/cart/change.js",data:"quantity=0&id="+t,dataType:"json",success:function(t){"function"==typeof e?e(o,t,"remove item"):Shopify.KT_onCartUpdate(t,"remove item")},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(r)},Shopify.KT_clear=function(t){var e={type:"POST",url:"/cart/clear.js",data:"",dataType:"json",success:function(e){"function"==typeof t?t(e):Shopify.KT_onCartUpdate(e)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(e)},Shopify.KT_updateCartFromForm=function(t,e){var o={type:"POST",url:"/cart/update.js",data:jQuery("#"+t).serialize(),dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(o)},Shopify.KT_addItemFromMoreAttr=function(t,e){var o=jQuery("#"+t+" .itemGroupProducts"),r=(o.length,function(t){var n=o.eq(t).find('input[type="number"]').attr("data-id"),a=o.eq(t).find('[name="quantity__'+n+'"]').val();last_checked=o.find('input[type="checkbox"]:checked').last().closest("li.itemGroupProducts").attr("data-nth-child"),o.eq(t).find('input[type="checkbox"]')[0].checked&&_.toNumber(a)>0&&t<=_.toNumber(last_checked)?jQuery.ajax({type:"POST",url:"/cart/add.js",data:"quantity="+a+"&id="+n,dataType:"json",success:function(o){++t<_.toNumber(last_checked)?r(t):"function"==typeof e?e(o):Shopify.KT_onItemAdded(o)},error:function(t,e){Shopify.KT_onError(t,e)}}):t<_.toNumber(last_checked)&&r(++t)});return r(0)},Shopify.KT_updateCartAttributes=function(t,e){var o="";jQuery.isArray(t)?jQuery.each(t,function(t,e){var r=attributeToString(e.key);""!==r&&(o+="attributes["+r+"]="+attributeToString(e.value)+"&")}):"object"==typeof t&&null!==t&&jQuery.each(t,function(t,e){o+="attributes["+attributeToString(t)+"]="+attributeToString(e)+"&"});var r={type:"POST",url:"/cart/update.js",data:o,dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(r)},Shopify.KT_updateCartNote=function(t,e){var o={type:"POST",url:"/cart/update.js",data:"note="+attributeToString(t),dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(o)},jQuery.fn.jquery>="1.4"?Shopify.KT_param=jQuery.param:(Shopify.KT_param=function(t){var e=[],o=function(t,o){o=jQuery.isFunction(o)?o():o,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(o)};if(jQuery.isArray(t)||t.jquery)jQuery.each(t,function(){o(this.name,this.value)});else for(var r in t)Shopify.KT_buildParams(r,t[r],o);return e.join("&").replace(/%20/g,"+")},Shopify.KT_buildParams=function(t,e,o){jQuery.isArray(e)&&e.length?jQuery.each(e,function(e,r){rbracket.test(t)?o(t,r):Shopify.KT_buildParams(t+"["+("object"==typeof r||jQuery.isArray(r)?e:"")+"]",r,o)}):null!=e&&"object"==typeof e?Shopify.KT_isEmptyObject(e)?o(t,""):jQuery.each(e,function(e,r){Shopify.KT_buildParams(t+"["+e+"]",r,o)}):o(t,e)},Shopify.KT_isEmptyObject=function(t){for(var e in t)return!1;return!0}),Shopify.KT_getAddress=function(){$.ajax({type:"get",url:"//api.teathemes.net/currency",success:function(t){var e=""!=t.postal.code?t.postal.code:t.region,o=void 0!==t.province[0]?t.province[0].names.en:"",r={zip:void 0!==e?e:"kt0711",country:t.country,province:o};Shopify.KT_getCartShippingRatesForDestination(r,"",Shopify.KT_ShippingCalculator)}})},Shopify.KT_onCartUpdate_=function(t,e){var o=$(".cart_list.product_list_widget");$.ajax({type:"get",url:"/cart?view=json",beforeSend:function(){t.item_count>0?$(".has-item").is(":hidden")&&($(".has-item").css({display:"block"}),$(".no-item").css({display:"none"})):$(".no-item").is(":hidden")&&($(".has-item").css({display:"none"}),$(".no-item").css({display:"block"})),t.item_count>0&&1==theme.function.cartPopupEnable&&Shopify.KT_getAddress(),$(".show-shopping-cart").length>0&&($(".cart_list").mCustomScrollbar("disable",!0),$(window).height())},success:function(r){o.find(".mCSB_container").length>=1?o.find(".mCSB_container").html(r):o.html(r),$(".show-shopping-cart").length>0&&$(window).height()>500&&$(".cart_list").mCustomScrollbar("update"),$(".cart__popup-stotal").attr("data-price",t.total_price),$(".cartCost, .mini-cart .amout, .cart__popup-stotal").html(Shopify.KT_formatMoney(t.total_price,theme.moneyFormat)),$(".cartCount").text(t.item_count),$(".title.has-item").html(1==t.item_count?theme.strings.cartItem.split("(")[0]+"("+t.item_count+" item)"+theme.strings.cartItem.split(")")[1]:theme.strings.cartItems.split("(")[0]+"("+t.item_count+" items)"+theme.strings.cartItems.split(")")[1]),1==theme.function.multiCurrency&&null!==cookieCurrency&&cookieCurrency!==shopCurrency&&Currency.convertAll(shopCurrency,cookieCurrency,".mini-cart span.money"),e||($("#myModal").hasClass("in")?($("#AddToCart-quickview-template").removeClass("loading").addClass("loaded"),setTimeout(function(){$("#AddToCart-quickview-template").removeClass("loaded")},5e3)):$("#addMoreModal").hasClass("in")?($("#addMoreModal .boutique__add-to-cart").removeClass("loading").addClass("loaded"),setTimeout(function(){$("#addMoreModal .boutique__add-to-cart").removeClass("loaded")},5e3)):($(".single_add_to_cart_button, .boutique__add-to-cart.loading").removeClass("loading").addClass("loaded"),setTimeout(function(){$(".single_add_to_cart_button, .boutique__add-to-cart.loaded").removeClass("loaded")},5e3)),1==theme.function.cartPopupEnable&&(Shopify.KT_cartPopup(),theme.Quantity()))}})},Shopify.KT_cartPopup=function(){var t=$("#cartModal .itemList");$.ajax({type:"get",url:"/cart?view=popup.json",success:function(e){t.html(e),$(".boutique__add-to-cart").removeClass("loading"),$("#myModal").modal("hide"),$("#compare-modal").modal("hide"),$("#quickShopModal").modal("hide"),setTimeout(function(){$("#cartModal").modal()},1e3),theme.Quantity(),1==theme.function.multiCurrency&&null!==cookieCurrency&&cookieCurrency!==shopCurrency&&Currency.convertAll(shopCurrency,cookieCurrency,"#cartModal span.money"),$(".look-page-loading").remove()}})},Shopify.KT_updatePopup=function(t,e,o){"remove item"==o?($("#PopupItem-"+t+" div").slideUp(300,function(){$(this).hide()}),$("#Undo-"+t).slideUp(300,function(){$(this).show()}),$(".cart__popup-stotal").attr("data-price",e.total_price),$(".cartCost, .mini-cart .amout, .cart__popup-stotal").html(Shopify.KT_formatMoney(e.total_price,theme.moneyFormat)),$(".title.has-item").html(1==e.item_count?theme.strings.cartItem.split("(")[0]+"("+e.item_count+" item)"+theme.strings.cartItem.split(")")[1]:theme.strings.cartItems.split("(")[0]+"("+e.item_count+" items)"+theme.strings.cartItems.split(")")[1]),$(".cartCount").text(e.item_count),e.item_count>0?Shopify.KT_getAddress():($(".box-cart-total-JS .subTotal,.box-cart-total-JS .shippingBox").hide(500),$(".box-cart-total-JS .order-total .price").html(Shopify.KT_formatMoney(0,theme.moneyFormat))),1==theme.function.multiCurrency&&null!==cookieCurrency&&cookieCurrency!==shopCurrency&&(Currency.convertAll(shopCurrency,cookieCurrency,"#cartModal span.money"),Currency.convertAll(shopCurrency,cookieCurrency,".mini-cart span.money"))):"undo"==o?($("#PopupItem-"+t+" div").slideDown(300,function(){$(this).show()}),$("#Undo-"+t).slideDown(300,function(){$(this).hide()}),$.ajax({type:"GET",url:"/cart.js",dataType:"json",success:function(t){$(".cart__popup-stotal").attr("data-price",t.total_price),$(".cartCost, .mini-cart .amout, .cart__popup-stotal").html(Shopify.KT_formatMoney(t.total_price,theme.moneyFormat)),$(".title.has-item").html(1==t.item_count?theme.strings.cartItem.split("(")[0]+"("+t.item_count+" item)"+theme.strings.cartItem.split(")")[1]:theme.strings.cartItems.split("(")[0]+"("+t.item_count+" items)"+theme.strings.cartItems.split(")")[1]),$(".cartCount").text(t.item_count),t.item_count>0?Shopify.KT_getAddress():($(".box-cart-total-JS .subTotal,.box-cart-total-JS .shippingBox").hide(500),$(".box-cart-total-JS .order-total .price").html(Shopify.KT_formatMoney(0,theme.moneyFormat))),1==theme.function.multiCurrency&&null!==cookieCurrency&&cookieCurrency!==shopCurrency&&(Currency.convertAll(shopCurrency,cookieCurrency,"#cartModal span.money"),Currency.convertAll(shopCurrency,cookieCurrency,".mini-cart span.money"))},error:function(t){console.log("error")}})):jQuery.each(e.items,function(o,r){r.id===t&&($("#PopupItem-"+t+" .cart__popup-total").html(Shopify.KT_formatMoney(r.original_line_price,theme.moneyFormat)),$(".cart__popup-stotal").attr("data-price",e.total_price),$(".cartCost, .mini-cart .amout, .cart__popup-stotal").html(Shopify.KT_formatMoney(e.total_price,theme.moneyFormat)),$(".title.has-item").html(1==e.item_count?theme.strings.cartItem.split("(")[0]+"("+e.item_count+" item)"+theme.strings.cartItem.split(")")[1]:theme.strings.cartItems.split("(")[0]+"("+e.item_count+" items)"+theme.strings.cartItems.split(")")[1]),$(".cartCount").text(e.item_count),e.item_count>0?Shopify.KT_getAddress():($(".box-cart-total-JS .subTotal,.box-cart-total-JS .shippingBox").hide(500),$(".box-cart-total-JS .order-total .price").html(Shopify.KT_formatMoney(0,theme.moneyFormat))),1==theme.function.multiCurrency&&null!==cookieCurrency&&cookieCurrency!==shopCurrency&&(Currency.convertAll(shopCurrency,cookieCurrency,"#cartModal span.money"),Currency.convertAll(shopCurrency,cookieCurrency,".mini-cart span.money")))})},Shopify.KT_updatedCartNote=function(t){$("#cartModal .checkout-button").prop("disabled",!1)},Shopify.KT_ShippingCalculator=function(t){if(0!==t&&void 0===t[0].price)$(".box-cart-total-JS .order-total .price").html(Shopify.KT_formatMoney($(".box-cart-total-JS #subTotal").attr("data-price"),theme.moneyFormat));else if($(".box-cart-total-JS #subTotal").length>0){var e=$(".box-cart-total-JS #subTotal").attr("data-price"),o=parseInt(e.toString().replace(/\./g,""))+parseInt(0!==t?t[0].price.toString().replace(/\./g,""):0);$(".box-cart-total-JS .order-total .price").html(Shopify.KT_formatMoney(o,theme.moneyFormat)),1==theme.function.multiCurrency&&null!==cookieCurrency&&cookieCurrency!==shopCurrency&&Currency.convertAll(shopCurrency,cookieCurrency,".box-cart-total-JS span.money"),$(".box-cart-total-JS .subTotal,.box-cart-total-JS .shippingBox").show(500)}};